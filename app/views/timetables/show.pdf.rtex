\documentclass[a4paper,10pt]{article}

\usepackage{array}
\usepackage{color}
\usepackage{colortbl}
\arrayrulecolor{blue}

\thispagestyle{empty}
\begin{document}
\begin{center}
\section*{Orario <%= @timetable.graduate_course.name  %> <%= @timetable.period.year.to_s + "° anno" %>} \\
\end{center}
\bigskip
\begin{center}
\begin{tabular}{|c||c|c|c|c|c|c||c|}
\hline
\textsc{} & \textsc{<%=  from_id_to_dayname(1) %>} & \textsc{<%=  from_id_to_dayname(2) %>} & \textsc{<%=  from_id_to_dayname(3) %>} & \textsc{<%=  from_id_to_dayname(4) %>} & \textsc{<%=  from_id_to_dayname(5) %>}\\
\hline \hline
<% i = 0  %>
  <% @timetable_entries.each do |c| %>
\begin{tabular}{c}
 <%= (@min_startTime+(i*@duration)).hour.to_s + ":" + (@min_startTime+(i*@duration)).min.to_s %> \\  <%= (@min_startTime+((i+1)*@duration)).hour.to_s + ":" + (@min_startTime+((i+1)*@duration)).min.to_s %> 
\end{tabular}
      <% c.each do |t| %>
          &
         \begin{tabular}{c}
         <%  if t  %>
            <% if t.teaching && t.teaching.id %>
               <%= t.teaching.name %>
            <%  else %>
                 (insegnamento non presente)
            <%  end %>
            \\
            <% if t.classroom && t.classroom.id %>
                <%= t.classroom.name %>
            <%  else %>
                (aula non presente)
            <%  end %>
         <%  end %>
\end{tabular}
      <%  end %>
\\ \hline
        <% i = i + 1 %>
<% end  %>
 
\end{tabular}
\end{center}
<% teachings_vector = Array.new  %>
 <% @timetable_entries.each do |c| %>
    <% c.each do |t| %>
      <% if t %>
        <% teachings_vector << t.teaching %>
        <% end  %>
    <% end  %>
  <% end  %>
\bigskip
\bigskip
\bigskip
\textbf{Insegnamenti} \\
\begin{itemize}
  <% teachings_vector.uniq!.each do |v| %>
    <% if v.teacher %>
    \item <%= v.name  %> è tenuto da: <%= v.teacher.surname + " " + v.teacher.name %> \\
    <% else  %>
    \item <%= v.name  %> non ha alcun docente assegnato \\
  <% end  %>
    <% end  %>
\end{itemize}

\end{document}